//========================================================================================
//
// Heavy Artillery
// Copyright (c) 2002, All rights reserved
//
// Damian Coventry
// Tuesday, 25 June 2002
//
//========================================================================================


#include "stdafx.h"
#include <stdarg.h>
#include <stdio.h>

#include "Log.h"


//----------------------------------------------------------------------------------------
// private data
//----------------------------------------------------------------------------------------

static char _Error[ 1024 ];


//----------------------------------------------------------------------------------------
// Name: SetError()
// Desc: 
//----------------------------------------------------------------------------------------

long SetError( const char *String, ... )
{
    va_list List;

    if( String )
    {
        va_start( List, String );
        vsnprintf_s( _Error, 1024, String, List );
        va_end( List );

        LogWrite( "%s\n", _Error );
    }

    return 0;
}


//----------------------------------------------------------------------------------------
// Name: GetError()
// Desc: 
//----------------------------------------------------------------------------------------

std::string GetError( void )
{
    if (_Error[0] == 0)
        return {};
    return _Error;
}
